(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1281:()=>{},3501:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,4147,23)),Promise.resolve().then(a.t.bind(a,8489,23)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,6884))},856:(e,t,a)=>{"use strict";a.d(t,{H8:()=>n,Po:()=>o,d6:()=>i,dB:()=>r,jF:()=>s});let n="0x7d4bf74e429bd0a7a4ffe35f7008f3e533c758d088835fcc7f112e469bb1ee56",s="https://api.panora.exchange",o="a4^KV_EaTf4MW#ZdvgGKX#HUD^3IFEAOV_kzpIE^3BQGA8pDnrkT7JcIy#HNlLGi",r="mainnet",i="aptoslabs_fmewgVpbgkz_Bj7ESyaLUtKj8kvjnNNjKSyX9bLf9t4XS"},6884:(e,t,a)=>{"use strict";a.d(t,{TokenProvider:()=>u,V:()=>m});var n=a(5155),s=a(3902),o=a(5156),r=a(856),i=function(e){return e.Withdraw="0x1::coin::WithdrawEvent",e.Deposit="0x1::coin::DepositEvent",e}({});let l=a(2651).A.create({baseURL:r.jF,headers:{"Content-Type":"application/json","X-Api-Key":r.Po}});var d=a(2115);let c=(0,d.createContext)({}),u=e=>{let{children:t}=e,[a,u]=(0,d.useState)({}),[m,p]=(0,d.useState)([]),_=new s.i5T(new s.qc8({network:r.dB,clientConfig:{API_KEY:r.d6}})),f=async()=>{var e;u(null===(e=(await l.get("/prices",{params:{tokenAddress:r.H8}})).data)||void 0===e?void 0:e[0])},v=async()=>{let e=await _.queryIndexer({query:{query:'query MyQuery {\n          fungible_asset_activities(\n            where: {owner_address: {_eq: "0x7d4bf74e429bd0a7a4ffe35f7008f3e533c758d088835fcc7f112e469bb1ee56"}}\n            limit: 20\n            order_by: {transaction_timestamp: desc}\n          ) {\n            amount\n            asset_type\n            transaction_version\n            transaction_timestamp\n            type\n          }\n        }'}});console.log("Trading info:",e),p((await Promise.all(e.fungible_asset_activities.map(async e=>{let t=await _.getTransactionByVersion({ledgerVersion:e.transaction_version});return(0,s.Phw)(t)?{amount:(0,s.q2$)(e.amount,8),assetType:e.asset_type,sender:(0,o.LV)(t.sender),createdAt:new Date(e.transaction_timestamp).toLocaleString(),type:e.type,from:"",assetFrom:"",to:"",assetTo:""}:null}))).reduce((e,t)=>{let a=e.findIndex(e=>e.createdAt===(null==t?void 0:t.createdAt));return -1===a?e.push(t):(null==t?void 0:t.type)===i.Deposit?(e[a].from=null==t?void 0:t.amount.toFixed(3),e[a].assetFrom=null==t?void 0:t.assetType,e[a].to=e[a].amount.toFixed(3),e[a].assetTo=e[a].assetType):(e[a].to=null==t?void 0:t.amount.toFixed(3),e[a].assetTo=null==t?void 0:t.assetType,e[a].from=e[a].amount.toFixed(3),e[a].assetFrom=e[a].assetType),e},[]))};return(0,d.useEffect)(()=>{f(),v();let e=setInterval(()=>{f(),v()},6e5);return()=>clearInterval(e)},[]),(0,n.jsx)(c.Provider,{value:{tokenInfo:a,tradingInfo:m},children:t})},m=()=>(0,d.useContext)(c)},347:()=>{},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}}},e=>{var t=t=>e(e.s=t);e.O(0,[896,644,192,441,517,358],()=>t(3501)),_N_E=e.O()}]);
//# sourceMappingURL=layout-5bac0ae7e9390f41.js.map